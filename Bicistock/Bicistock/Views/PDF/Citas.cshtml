@model Bicistock.Common.Models.AppointmentManager;
@using Microsoft.AspNetCore.Http;

@{
    Layout = "../_ViewPDF.cshtml";
    DateTime actual = DateTime.Now;
}

<div class="contenedor">
    <table style="width:100%">
        <tr>
            <td>
                <img src="~/Images/minLogo.png" style="width:200px;" />
            </td>
            <td style="text-align:right">
                <table style="margin-right:0;margin-left:auto">
                    <tr><td><p class="title2">HISTORIAL DE CITAS</p></td></tr>
                </table>
                <strong>Fecha:</strong> @actual
            </td>
        </tr>
    </table>
    <table style="width:100%">
        <tr>
            <td>
                <table>
                    <tr>
                        <td>
                            <br />
                            <br />
                            <p class="title">Lista Citas</p>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>
    <br />

    <table class="tbproductos" style="width:100%">
        <thead>
            <tr>
                <th class="tbth">Usuario</th>
                <th class="tbth" style="width:130px">Fecha Cita</th>
                <th class="tbth" style="width:130px">Fecha Solicitud</th>
                <th class="tbth" style="width:130px">Marca Bici</th>
                <th class="tbth" style="width:130px">Estado Cita</th>
            </tr>
        </thead>
        <tbody>
            @{
                foreach (var item in Model.CitationList)
                {

                    <tr>
                        <td class="td-item">
                            <p class="item">
                                @Html.DisplayFor(modelItem => item.UserName)
                            </p>
                        </td>
                        <td class="td-item">
                            <p class="item">
                                @Html.DisplayFor(modelItem => item.DateCitation)
                            </p>
                        </td>
                        <td class="td-item">
                            <p class="item">
                                @Html.DisplayFor(modelItem => item.DateRequest)
                            </p>
                        </td>
                        <td class="td-item">
                            <p class="item">
                                @Html.DisplayFor(modelItem => item.BrandName)
                            </p>
                        </td>
                        <td class="td-item">

                            @if (item.DateCitation > actual)
                            {
                                <p class="item">
                                    @Html.DisplayFor(modelItem => item.CitationStatus)
                                </p>
                            }
                            else
                            {
                                <p class="item">
                                    @Html.DisplayFor(modelItem => item.CitationStatus) (Pasada)
                                </p>
                            }

                        </td>
                    </tr>

                }
            }
        </tbody>
    </table>
</div>
